(this.webpackJsonpk_music=this.webpackJsonpk_music||[]).push([[5],{199:function(e,t,a){"use strict";var n=a(8),c=a(0),r=a.n(c),i=a(200),o=a.n(i);t.a=function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),i=a[0],l=a[1];return Object(c.useEffect)((function(){var t=new Image;t.src=e.src,t.onload=function(){l(!0)}}),[e.src]),r.a.createElement("img",{src:i?e.src:o.a,style:{width:e.width,height:e.height,border:e.border?"1px solid #f1f1f1":"none"},alt:""})}},200:function(e,t,a){e.exports=a.p+"static/media/default_image.3590e8c0.svg"},201:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(223),i=a(285);t.a=function(e){var t;return c.a.createElement("div",{style:{width:"100%",minHeight:"30vh",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(r.a,{tip:null!==(t=e.text)&&void 0!==t?t:"",indicator:c.a.createElement(i.a,{style:{fontSize:24}})}))}},208:function(e,t,a){},218:function(e,t,a){e.exports={category:"_3mAHRFcYGDiGQD5NjIXGPy",cat:"_2fL91aoxtpB750p_bV8Grf"}},219:function(e,t,a){e.exports={catList:"mEruZ2ckuwrGDZ2MSXJCo",catItem:"_2O84mjn8D8wOpxfnqEOtXv",catType:"_3oAYWiiJH6phwibICqvAt3",catContent:"gTqd4UnIQvBWXOCowsaEq",tag:"_3DVQ_vSuNEcYjSVWusAXTj"}},222:function(e,t,a){e.exports={home:"_1rW0pNaf1fNsEyxJ1Mfjzu",albumBox:"DSzUk1jApFhiIiiziwiiJ",list:"_1LyBgoCtD8vu00-fH7p4bX",album:"_25TOVTjWvPZEpDlZ4Ctxbi",cover:"_12_QnF4bHP0O3Cx_-GWY_i",playCount:"tcVtdPf6Ib8JCZMb4hjSI",creatorName:"CRwK1pNC0vrWnK4-lgwX5",name:"_2M4N4JW1q7OQBBF9dnfQqx",pagination:"_1QrPHZIz1OLO5wAAzxjVHI"}},282:function(e,t,a){"use strict";a.r(t);var n=a(40),c=a.n(n),r=a(49),i=a(8),o=a(0),l=a.n(o),s=a(85),u=a(279),m=a(276),p=a(217),f=a(69),d=a(25),E=a(199),y=a(124),b=a(193),v=a(218),g=a.n(v),C=(a(208),a(284)),N=a(219),h=a.n(N),_=C.a.CheckableTag,O=function(e){return l.a.createElement("div",{className:h.a.catList},e.catList.map((function(t){return l.a.createElement("div",{key:t.type,className:h.a.catItem},l.a.createElement("div",{className:h.a.catType},t.typeName),l.a.createElement("div",{className:h.a.catContent},t.list.map((function(t){return l.a.createElement(_,{key:t.name,className:h.a.tag,checked:e.selectedCat===t.name,onClick:function(){return e.onSelect(t.name)}},t.name)}))))})))},j=function(e){var t=Object(o.useState)(!1),a=Object(i.a)(t,2),n=a[0],s=a[1],u=Object(o.useState)([]),m=Object(i.a)(u,2),p=m[0],E=m[1],v=Object(o.useCallback)((function(t){e.catSelect(t),s(!1)}),[e]);return Object(o.useEffect)((function(){function e(){return(e=Object(r.a)(c.a.mark((function e(){var t,a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)();case 2:t=e.sent,a=t.data,n=a.categories,r=a.sub,i=[],Object.keys(n).forEach((function(e){i.push({type:parseInt(e),typeName:n[e],list:r.filter((function(t){return t.category===parseInt(e)}))})})),E(i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),l.a.createElement("div",{className:g.a.category},l.a.createElement(y.a,{placement:"topLeft",visible:n,content:l.a.createElement(O,{catList:p,selectedCat:e.currentCat,onSelect:v}),trigger:"click"},l.a.createElement(b.a,{onClick:function(){return s(!n)}},"\u9009\u62e9\u98ce\u683c",l.a.createElement(d.a,{type:"icon-up"}))),l.a.createElement("div",{className:g.a.cat},"\u5f53\u524d\u98ce\u683c\uff1a",e.currentCat))},x=a(222),k=a.n(x),w=a(201);function A(e,t){switch(t.type){case"GET_BANNER":return void(e.banners=t.payload);case"GET_ALBUM_LIST":var a=t.payload,n=a.albumList,c=a.totalCount;return e.albumList=n,void(e.totalCount=c);case"CAT_SELECT":return e.pageNo=1,void(e.cat=t.payload);case"PAGE_CHANGE":return void(e.pageNo=t.payload);case"SET_PAGE_LOADING":return void(e.loading=t.payload);default:return}}var L={banners:[],pageNo:1,loading:!1,totalCount:0,cat:"\u534e\u8bed",albumList:[]};t.default=function(){var e=Object(p.a)(A,L),t=Object(i.a)(e,2),a=t[0],n=t[1],y=a.banners,b=a.pageNo,v=a.loading,g=a.totalCount,C=a.cat,N=a.albumList,h=Object(o.useCallback)((function(e){n({type:"PAGE_CHANGE",payload:e})}),[n]),_=Object(o.useCallback)((function(e){n({type:"CAT_SELECT",payload:e})}),[n]);return Object(o.useEffect)((function(){function e(){return(e=Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)(0);case 2:t=e.sent,a=t.data,n({type:"GET_BANNER",payload:a.banners.map((function(e){return{scm:e.scm,imageUrl:e.imageUrl}}))});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(o.useEffect)((function(){function e(){return(e=Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:"SET_PAGE_LOADING",payload:!0}),e.next=3,Object(f.b)({cat:C,limit:35,offset:35*(b-1)});case 3:t=e.sent,a=t.data,n({type:"GET_ALBUM_LIST",payload:{albumList:a.playlists.map((function(e){return{id:e.id,coverImgUrl:e.coverImgUrl,playCount:e.playCount,name:e.name,creator:e.creator}})),totalCount:a.total}}),n({type:"SET_PAGE_LOADING",payload:!1});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[C,n,b]),console.log("loading:",v),l.a.createElement("div",{className:k.a.home},l.a.createElement("div",{className:k.a.banner},l.a.createElement(u.a,{autoplay:!0},y.map((function(e){return l.a.createElement("div",{key:e.scm,className:k.a.item},l.a.createElement("img",{src:e.imageUrl,alt:""}))})))),l.a.createElement("div",{className:k.a.albumBox},l.a.createElement(j,{currentCat:C,catSelect:_}),l.a.createElement("div",{className:k.a.list},v?l.a.createElement(w.a,{text:"Loading..."}):N.map((function(e){return l.a.createElement(s.b,{key:e.id,className:k.a.album,to:"/album/".concat(e.id)},l.a.createElement("div",{className:"hoverBox"},l.a.createElement("div",{className:k.a.cover},l.a.createElement(E.a,{src:e.coverImgUrl,width:"100%",height:"auto"}),l.a.createElement("div",{className:k.a.playCount},l.a.createElement(d.a,{type:"icon-play-count",style:{fontSize:16,marginRight:2}}),l.a.createElement("span",null,e.playCount)),l.a.createElement("div",{className:k.a.creatorName},e.creator.nickname)),l.a.createElement("div",{className:k.a.name},e.name)))}))),l.a.createElement(m.a,{className:k.a.pagination,defaultCurrent:1,current:b,total:g,onChange:h,defaultPageSize:35,showSizeChanger:!1})))}}}]);
//# sourceMappingURL=5.8ddf2ec9.chunk.js.map